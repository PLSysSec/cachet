---
source: crates/bpl/tests/test.rs
assertion_line: 41
expression: snapshot_report
---
[Parsed]
[
    Type(
        TypeDecls {
            attrs: [],
            decls: [
                TypeDecl {
                    ident: "C",
                    type_params: [
                        "a",
                        "_",
                        "b",
                    ],
                    type_: None,
                },
            ],
        },
    ),
    Type(
        TypeDecls {
            attrs: [],
            decls: [
                TypeDecl {
                    ident: "D",
                    type_params: [],
                    type_: None,
                },
            ],
        },
    ),
    Type(
        TypeDecls {
            attrs: [],
            decls: [
                TypeDecl {
                    ident: "E",
                    type_params: [
                        "_",
                    ],
                    type_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A0",
                        ],
                        type_: App(
                            TypeApp {
                                head: "D",
                                tail: None,
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A1",
                        ],
                        type_: App(
                            TypeApp {
                                head: "C",
                                tail: Some(
                                    App(
                                        TypeApp {
                                            head: "D",
                                            tail: Some(
                                                App(
                                                    TypeApp {
                                                        head: "D",
                                                        tail: Some(
                                                            App(
                                                                TypeApp {
                                                                    head: "D",
                                                                    tail: None,
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                            ),
                                        },
                                    ),
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A2",
                        ],
                        type_: Map(
                            MapType {
                                type_params: [
                                    "a",
                                    "b",
                                ],
                                keys: [
                                    App(
                                        TypeApp {
                                            head: "b",
                                            tail: None,
                                        },
                                    ),
                                    App(
                                        TypeApp {
                                            head: "C",
                                            tail: Some(
                                                App(
                                                    TypeApp {
                                                        head: "a",
                                                        tail: Some(
                                                            App(
                                                                TypeApp {
                                                                    head: "b",
                                                                    tail: Some(
                                                                        App(
                                                                            TypeApp {
                                                                                head: "D",
                                                                                tail: None,
                                                                            },
                                                                        ),
                                                                    ),
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                            ),
                                        },
                                    ),
                                ],
                                value: App(
                                    TypeApp {
                                        head: "C",
                                        tail: Some(
                                            App(
                                                TypeApp {
                                                    head: "a",
                                                    tail: Some(
                                                        App(
                                                            TypeApp {
                                                                head: "D",
                                                                tail: Some(
                                                                    Map(
                                                                        MapType {
                                                                            type_params: [],
                                                                            keys: [
                                                                                App(
                                                                                    TypeApp {
                                                                                        head: "D",
                                                                                        tail: None,
                                                                                    },
                                                                                ),
                                                                            ],
                                                                            value: App(
                                                                                TypeApp {
                                                                                    head: "a",
                                                                                    tail: None,
                                                                                },
                                                                            ),
                                                                        },
                                                                    ),
                                                                ),
                                                            },
                                                        ),
                                                    ),
                                                },
                                            ),
                                        ),
                                    },
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A3",
                        ],
                        type_: Map(
                            MapType {
                                type_params: [
                                    "a",
                                    "b",
                                ],
                                keys: [
                                    App(
                                        TypeApp {
                                            head: "b",
                                            tail: None,
                                        },
                                    ),
                                    App(
                                        TypeApp {
                                            head: "C",
                                            tail: Some(
                                                App(
                                                    TypeApp {
                                                        head: "a",
                                                        tail: Some(
                                                            AtomApp(
                                                                TypeApp {
                                                                    head: Int,
                                                                    tail: Some(
                                                                        App(
                                                                            TypeApp {
                                                                                head: "D",
                                                                                tail: None,
                                                                            },
                                                                        ),
                                                                    ),
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                            ),
                                        },
                                    ),
                                ],
                                value: App(
                                    TypeApp {
                                        head: "C",
                                        tail: Some(
                                            AtomApp(
                                                TypeApp {
                                                    head: Bool,
                                                    tail: Some(
                                                        App(
                                                            TypeApp {
                                                                head: "ref",
                                                                tail: Some(
                                                                    Map(
                                                                        MapType {
                                                                            type_params: [],
                                                                            keys: [
                                                                                App(
                                                                                    TypeApp {
                                                                                        head: "bv32",
                                                                                        tail: None,
                                                                                    },
                                                                                ),
                                                                            ],
                                                                            value: App(
                                                                                TypeApp {
                                                                                    head: "a",
                                                                                    tail: None,
                                                                                },
                                                                            ),
                                                                        },
                                                                    ),
                                                                ),
                                                            },
                                                        ),
                                                    ),
                                                },
                                            ),
                                        ),
                                    },
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A4",
                        ],
                        type_: Map(
                            MapType {
                                type_params: [
                                    "a",
                                    "a",
                                ],
                                keys: [
                                    App(
                                        TypeApp {
                                            head: "a",
                                            tail: None,
                                        },
                                    ),
                                ],
                                value: App(
                                    TypeApp {
                                        head: "a",
                                        tail: None,
                                    },
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A5",
                        ],
                        type_: Map(
                            MapType {
                                type_params: [
                                    "a",
                                ],
                                keys: [
                                    App(
                                        TypeApp {
                                            head: "a",
                                            tail: None,
                                        },
                                    ),
                                ],
                                value: Map(
                                    MapType {
                                        type_params: [
                                            "a",
                                        ],
                                        keys: [
                                            App(
                                                TypeApp {
                                                    head: "a",
                                                    tail: None,
                                                },
                                            ),
                                        ],
                                        value: Atom(
                                            Int,
                                        ),
                                    },
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A6",
                        ],
                        type_: Map(
                            MapType {
                                type_params: [
                                    "a",
                                ],
                                keys: [
                                    App(
                                        TypeApp {
                                            head: "a",
                                            tail: None,
                                        },
                                    ),
                                ],
                                value: Map(
                                    MapType {
                                        type_params: [
                                            "b",
                                        ],
                                        keys: [
                                            App(
                                                TypeApp {
                                                    head: "b",
                                                    tail: None,
                                                },
                                            ),
                                        ],
                                        value: Atom(
                                            Int,
                                        ),
                                    },
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A7",
                        ],
                        type_: Map(
                            MapType {
                                type_params: [
                                    "a",
                                ],
                                keys: [
                                    App(
                                        TypeApp {
                                            head: "a",
                                            tail: None,
                                        },
                                    ),
                                ],
                                value: Map(
                                    MapType {
                                        type_params: [
                                            "b",
                                        ],
                                        keys: [
                                            Atom(
                                                Int,
                                            ),
                                        ],
                                        value: Atom(
                                            Int,
                                        ),
                                    },
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Type(
        TypeDecls {
            attrs: [],
            decls: [
                TypeDecl {
                    ident: "C",
                    type_params: [
                        "_",
                        "_",
                    ],
                    type_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A8",
                        ],
                        type_: App(
                            TypeApp {
                                head: "C",
                                tail: Some(
                                    AtomApp(
                                        TypeApp {
                                            head: Int,
                                            tail: Some(
                                                App(
                                                    TypeApp {
                                                        head: "ref",
                                                        tail: None,
                                                    },
                                                ),
                                            ),
                                        },
                                    ),
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A9",
                        ],
                        type_: App(
                            TypeApp {
                                head: "A0",
                                tail: None,
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A10",
                        ],
                        type_: App(
                            TypeApp {
                                head: "F",
                                tail: Some(
                                    AtomApp(
                                        TypeApp {
                                            head: Int,
                                            tail: None,
                                        },
                                    ),
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A11",
                        ],
                        type_: App(
                            TypeApp {
                                head: "E",
                                tail: Some(
                                    App(
                                        TypeApp {
                                            head: "D",
                                            tail: None,
                                        },
                                    ),
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A12",
                        ],
                        type_: App(
                            TypeApp {
                                head: "E",
                                tail: Some(
                                    App(
                                        TypeApp {
                                            head: "E",
                                            tail: Some(
                                                App(
                                                    TypeApp {
                                                        head: "D",
                                                        tail: None,
                                                    },
                                                ),
                                            ),
                                        },
                                    ),
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A13",
                        ],
                        type_: App(
                            TypeApp {
                                head: "E",
                                tail: Some(
                                    AtomApp(
                                        TypeApp {
                                            head: Paren(
                                                App(
                                                    TypeApp {
                                                        head: "E",
                                                        tail: Some(
                                                            App(
                                                                TypeApp {
                                                                    head: "D",
                                                                    tail: None,
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                            ),
                                            tail: None,
                                        },
                                    ),
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A14",
                        ],
                        type_: App(
                            TypeApp {
                                head: "E",
                                tail: Some(
                                    App(
                                        TypeApp {
                                            head: "E",
                                            tail: Some(
                                                App(
                                                    TypeApp {
                                                        head: "E",
                                                        tail: Some(
                                                            App(
                                                                TypeApp {
                                                                    head: "D",
                                                                    tail: None,
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                            ),
                                        },
                                    ),
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A15",
                        ],
                        type_: App(
                            TypeApp {
                                head: "E",
                                tail: Some(
                                    App(
                                        TypeApp {
                                            head: "E",
                                            tail: Some(
                                                AtomApp(
                                                    TypeApp {
                                                        head: Int,
                                                        tail: None,
                                                    },
                                                ),
                                            ),
                                        },
                                    ),
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A16",
                        ],
                        type_: App(
                            TypeApp {
                                head: "E",
                                tail: Some(
                                    AtomApp(
                                        TypeApp {
                                            head: Paren(
                                                App(
                                                    TypeApp {
                                                        head: "E",
                                                        tail: Some(
                                                            AtomApp(
                                                                TypeApp {
                                                                    head: Int,
                                                                    tail: None,
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                            ),
                                            tail: None,
                                        },
                                    ),
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A17",
                        ],
                        type_: App(
                            TypeApp {
                                head: "bv64",
                                tail: None,
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A18",
                        ],
                        type_: Map(
                            MapType {
                                type_params: [],
                                keys: [
                                    Atom(
                                        Int,
                                    ),
                                ],
                                value: App(
                                    TypeApp {
                                        head: "bv64",
                                        tail: None,
                                    },
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A19",
                        ],
                        type_: App(
                            TypeApp {
                                head: "C",
                                tail: Some(
                                    App(
                                        TypeApp {
                                            head: "E",
                                            tail: Some(
                                                App(
                                                    TypeApp {
                                                        head: "E",
                                                        tail: Some(
                                                            App(
                                                                TypeApp {
                                                                    head: "D",
                                                                    tail: None,
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                            ),
                                        },
                                    ),
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A20",
                        ],
                        type_: App(
                            TypeApp {
                                head: "C",
                                tail: Some(
                                    AtomApp(
                                        TypeApp {
                                            head: Paren(
                                                App(
                                                    TypeApp {
                                                        head: "E",
                                                        tail: Some(
                                                            AtomApp(
                                                                TypeApp {
                                                                    head: Paren(
                                                                        App(
                                                                            TypeApp {
                                                                                head: "E",
                                                                                tail: Some(
                                                                                    App(
                                                                                        TypeApp {
                                                                                            head: "D",
                                                                                            tail: None,
                                                                                        },
                                                                                    ),
                                                                                ),
                                                                            },
                                                                        ),
                                                                    ),
                                                                    tail: None,
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                            ),
                                            tail: Some(
                                                AtomApp(
                                                    TypeApp {
                                                        head: Int,
                                                        tail: Some(
                                                            Map(
                                                                MapType {
                                                                    type_params: [],
                                                                    keys: [
                                                                        Atom(
                                                                            Int,
                                                                        ),
                                                                    ],
                                                                    value: Atom(
                                                                        Int,
                                                                    ),
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                            ),
                                        },
                                    ),
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A21",
                        ],
                        type_: App(
                            TypeApp {
                                head: "C",
                                tail: Some(
                                    AtomApp(
                                        TypeApp {
                                            head: Paren(
                                                Map(
                                                    MapType {
                                                        type_params: [
                                                            "a",
                                                        ],
                                                        keys: [
                                                            App(
                                                                TypeApp {
                                                                    head: "a",
                                                                    tail: None,
                                                                },
                                                            ),
                                                        ],
                                                        value: Map(
                                                            MapType {
                                                                type_params: [
                                                                    "b",
                                                                ],
                                                                keys: [
                                                                    App(
                                                                        TypeApp {
                                                                            head: "b",
                                                                            tail: None,
                                                                        },
                                                                    ),
                                                                ],
                                                                value: Atom(
                                                                    Int,
                                                                ),
                                                            },
                                                        ),
                                                    },
                                                ),
                                            ),
                                            tail: Some(
                                                AtomApp(
                                                    TypeApp {
                                                        head: Int,
                                                        tail: Some(
                                                            Map(
                                                                MapType {
                                                                    type_params: [],
                                                                    keys: [
                                                                        Atom(
                                                                            Int,
                                                                        ),
                                                                    ],
                                                                    value: Atom(
                                                                        Int,
                                                                    ),
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                            ),
                                        },
                                    ),
                                ),
                            },
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A22",
                        ],
                        type_: Atom(
                            Paren(
                                App(
                                    TypeApp {
                                        head: "D",
                                        tail: None,
                                    },
                                ),
                            ),
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Var(
        VarDecl {
            attrs: [],
            vars: [
                TypedIdentsWhere {
                    typed_idents: TypedIdents {
                        idents: [
                            "A23",
                        ],
                        type_: Atom(
                            Paren(
                                Atom(
                                    Paren(
                                        App(
                                            TypeApp {
                                                head: "D",
                                                tail: None,
                                            },
                                        ),
                                    ),
                                ),
                            ),
                        ),
                    },
                    where_: None,
                },
            ],
        },
    ),
    Type(
        TypeDecls {
            attrs: [],
            decls: [
                TypeDecl {
                    ident: "ref",
                    type_params: [],
                    type_: None,
                },
            ],
        },
    ),
]

[Printed]
type C a _ b;

type D;

type E _;

var A0: D;

var A1: C D D D;

var A2: <a, b>[b, C a b D]C a D [D]a;

var A3: <a, b>[b, C a int D]C bool ref [bv32]a;

var A4: <a, a>[a]a;

var A5: <a>[a]<a>[a]int;

var A6: <a>[a]<b>[b]int;

var A7: <a>[a]<b>[int]int;

type C _ _;

var A8: C int ref;

var A9: A0;

var A10: F int;

var A11: E D;

var A12: E E D;

var A13: E (E D);

var A14: E E E D;

var A15: E E int;

var A16: E (E int);

var A17: bv64;

var A18: [int]bv64;

var A19: C E E D;

var A20: C (E (E D)) int [int]int;

var A21: C (<a>[a]<b>[b]int) int [int]int;

var A22: (D);

var A23: ((D));

type ref;

[Input - ../../vendor/boogie/Test/test20/TypeDecls0.bpl]
// RUN: %boogie -noVerify "%s" > "%t"
// RUN: %diff "%s.expect" "%t"
type C a _ b;
type D;
type E _;

var A0 : D;

var A1 : C D D D;

var A2 : <a,b> [b, C a b D] C a D [D]a;

var A3 : <a,b> [b, C a int D] C bool ref [bv32]a;

var A4 : <a,a> [a] a;            // error: a bound twice
var A5 : <a> [a] <a> [a] int;    // error: a bound twice

var A6 : <a> [a] <b> [b] int;

var A7 : <a> [a] <b> [int] int;  // error: b does not occur as map argument

type C _ _;                      // error: C is already declared

var A8 : C int ref;              // error: wrong number of arguments

var A9 : A0;                     // error: undeclared type
var A10: F int;                  // error: undeclared type

var A11: E D;
var A12: E E D;                  // error: wrong number of arguments
var A13: E (E D);
var A14: E E E D;                // error: wrong number of arguments

var A15: E E int;                // error: wrong number of arguments
var A16: E (E int);

var A17: bv64;
var A18: [int] bv64;

var A19: C E E D;                // error: wrong number of arguments
var A20: C (E (E D)) int [int] int;
var A21: C (<a> [a] <b> [b] int) int [int] int;

var A22: (D);
var A23: ((D));

type ref;

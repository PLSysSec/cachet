import "../cacheir.cachet"

ir CacheStub emits CacheIR {
    op Pos(
        inputId: ValueId,
        valId: NumberId,
    ) {
        assume CacheIR::useValueReg(inputId) == CacheIR::allocateValueReg();
        assume CacheIR::useNumberReg(valId) == CacheIR::allocateValueReg();

        emit CacheIR::GuardIsNumber(inputId, valId);
        emit CacheIR::LoadDoubleResult(valId);
    }
}
